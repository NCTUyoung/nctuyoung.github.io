# 後台管理系統使用說明

## 功能概述

這個後台管理系統提供了以下主要功能：

1. **批次圖片上傳**：支援一次上傳多張圖片
2. **事件分類**：可以為不同的圖片設定事件名稱，自動建立分類資料夾
3. **圖片資訊編輯**：為每張圖片設定標題、描述和顏色標籤
4. **自動更新JSON**：上傳後自動更新 `galleryList.json` 檔案
5. **圖片管理**：檢視已上傳的所有圖片

## 使用方法

### 1. 訪問後台管理頁面

在瀏覽器中訪問 `/admin` 路徑，或點擊導航欄中的「後台管理」連結。

### 2. 上傳圖片

1. **設定事件名稱**：在「事件名稱」欄位中輸入事件名稱（例如：2024創作集）
2. **選擇圖片**：
   - 點擊「點擊選擇檔案」按鈕選擇圖片
   - 或直接將圖片拖拽到上傳區域
3. **編輯圖片資訊**：
   - **標題**：設定圖片的標題
   - **描述**：添加圖片的描述文字
   - **顏色標籤**：選擇顏色標籤（藍色、紅色、綠色等）
4. **上傳**：點擊「上傳圖片」按鈕完成上傳

### 3. 檢視已上傳的圖片

在頁面下方的「已上傳圖片」區域，您可以：
- 檢視所有已上傳的圖片
- 查看圖片的詳細資訊
- 點擊「重新載入」按鈕更新圖片列表

## 檔案結構

上傳的圖片會按照以下結構儲存：

```
public/
├── images/
│   └── gallery/
│       └── [事件名稱]/
│           ├── 圖片1.jpg
│           ├── 圖片2.png
│           └── ...
└── galleryList.json (自動更新)
```

## JSON 檔案格式

系統會自動更新 `public/galleryList.json` 檔案，格式如下：

```json
{
  "totalNumber": "圖片總數",
  "Img": [
    {
      "filename": "gallery/事件名稱/圖片檔名",
      "time": "上傳時間",
      "title": "圖片標題",
      "content": "圖片描述",
      "color": "顏色標籤"
    }
  ]
}
```

## 注意事項

1. **檔案格式**：支援 PNG、JPG、GIF 格式
2. **檔案大小**：單個檔案最大 50MB，總計最大 200MB
3. **批次上傳**：一次最多可上傳 20 個檔案
4. **事件名稱**：建議使用有意義的名稱，如「2024創作集」、「風景攝影」等
5. **檔案覆蓋**：如果上傳同名檔案，會覆蓋原有檔案

## 技術架構

- **前端**：Vue 3 + Nuxt 3 + Tailwind CSS
- **後端**：Nuxt 3 Server API
- **檔案處理**：Formidable
- **儲存**：本地檔案系統 + JSON 檔案

## 故障排除

### 上傳失敗

1. 檢查檔案格式是否支援
2. 確認檔案大小不超過限制
3. 檢查事件名稱是否已填寫
4. 查看瀏覽器控制台是否有錯誤訊息

### 圖片不顯示

1. 確認圖片檔案已正確上傳到 `public/images/gallery/` 目錄
2. 檢查 `galleryList.json` 檔案是否已更新
3. 嘗試重新載入頁面

### 權限問題

確保應用程式有讀寫 `public/` 目錄的權限。

## 開發者說明

如需修改或擴展功能，主要檔案位置：

- 後台頁面：`pages/admin.vue`
- 上傳API：`server/api/upload.post.ts`
- 圖片列表API：`server/api/gallery.get.ts`
- 導航配置：`layouts/default.vue`